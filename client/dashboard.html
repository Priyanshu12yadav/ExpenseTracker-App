<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Expense Dashboard</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="style.css"/>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','ui-sans-serif'] },
          colors: {
            brand: {
              400: '#9f7aea',
              500: '#7c3aed',
              600: '#6d28d9',
              700: '#5b21b6',
              800: '#4c1d95'
            }
          }
        }
      }
    }
  </script>

  <style>
    :root{
      --brand-800:#4c1d95;
      --brand-700:#5b21b6;
      --brand-600:#6d28d9;
      --brand-500:#7c3aed;
      --accent-1:#c7b3ff; /* light lavender */
      --accent-2:#b695ff; /* softer purple */
      --muted:#9aa4b2;
      --glass: rgba(255,255,255,0.03);
    }

    /* Remap a few common Tailwind text utilities to multiple theme shades for variety */
    .text-purple-700 { color: var(--brand-700) !important; }
    .text-purple-600 { color: var(--accent-2) !important; }
    .text-purple-500 { color: var(--brand-500) !important; }
    .text-purple-400 { color: var(--accent-1) !important; }

    /* Button system to make UI more graceful */
    .btn-primary{
      background: linear-gradient(90deg, rgba(124,58,237,0.95), rgba(109,40,217,0.95));
      color: #fff !important;
      border-radius: .6rem;
      padding: .55rem .9rem;
      font-weight: 600;
      box-shadow: 0 6px 18px rgba(109,40,217,0.18);
      border: 1px solid rgba(255,255,255,0.04);
      transition: transform .12s ease, box-shadow .12s ease;
      display: inline-flex;
      align-items: center;
      gap: .5rem;
    }
    .btn-primary:hover{ transform: translateY(-3px); box-shadow: 0 12px 30px rgba(109,40,217,0.22); }

    .btn-ghost{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      color: var(--accent-2) !important;
      border: 1px solid rgba(124,58,237,0.14);
      padding: .45rem .75rem;
      border-radius: .55rem;
      transition: background .12s ease, transform .12s ease;
    }
    .btn-ghost:hover{ background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(124,58,237,0.03)); transform: translateY(-2px); }

    /* Pills / chips */
    .chip{
      background: transparent;
      border: 1px solid rgba(124,58,237,0.12);
      padding: .25rem .55rem;
      border-radius: .5rem;
      font-weight:600;
      color: var(--accent-2) !important;
      transition: background .12s ease, color .12s ease, transform .12s;
    }
    .chip.active{
      background: linear-gradient(90deg, rgba(124,58,237,0.18), rgba(109,40,217,0.12));
      color: #fff !important;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(93,26,155,0.12);
    }

    /* Sidebar nav buttons */
    .nav-btn{
      display:block;
      width:100%;
      text-align:left;
      padding:.5rem .6rem;
      border-radius:.5rem;
      background:transparent;
      color:var(--accent-2) !important;
      font-weight:600;
      border:1px solid transparent;
      transition: background .12s ease, transform .12s ease, box-shadow .12s;
    }
    .nav-btn:hover{ background: linear-gradient(90deg, rgba(124,58,237,0.06), rgba(109,40,217,0.04)); transform: translateX(4px); }
    .nav-btn.active{
      background: linear-gradient(90deg, rgba(124,58,237,0.14), rgba(109,40,217,0.09));
      color:#fff !important;
      box-shadow: 0 10px 30px rgba(79,32,140,0.12);
    }

    /* Neon-like cards */
    .neon-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(124,58,237,0.06);
      box-shadow: 0 6px 24px rgba(92,25,151,0.06);
    }

    /* small utilities */
    .kpi .text-purple-700 { font-size: 1.2rem; } /* keep KPIs bold */
    .label { color: var(--accent-2) !important; font-weight:600; }
    input.input, select.input {
      background: rgba(255,255,255,0.01);
      border:1px solid rgba(124,58,237,0.08);
      color: var(--accent-1) !important;
      padding:.5rem .6rem;
      border-radius:.5rem;
    }
    input.input::placeholder { color: rgba(167,139,250,0.55); }

    /* quick responsive avatar accent */
    #avatar{
      color: #fff !important;
      background: linear-gradient(135deg, var(--brand-600), var(--brand-700));
      -webkit-background-clip: text;
      background-clip: text;
    }

    /* ensure table headings remain distinct */
    thead.text-purple-700 th { color: var(--brand-500) !important; }

    /* subtle hover for table rows */
    table tbody tr:hover td { background: rgba(124,58,237,0.02); }

    /* ensure checkboxes remain visible */
    input[type="checkbox"]{ accent-color: var(--brand-600); }
  </style>
</head>
<body class="bg-slate-950 text-purple-600">
  <!-- App Shell -->
  <div class="grid grid-cols-12 min-h-screen">
    <!-- Sidebar -->
    <aside class="col-span-12 md:col-span-3 lg:col-span-2 border-r border-white/10 p-5 bg-slate-950/80">
      <div class="flex items-center gap-2 mb-6">
        <div class="h-8 w-8 rounded-xl bg-brand-600 shadow-brand"></div>
        <h1 class="font-extrabold text-xl text-purple-700">SubTrackr</h1>
      </div>

      <nav class="space-y-1 text-purple-600">
        <button class="nav-btn active" data-panel="dashboard">Dashboard</button>
        <button class="nav-btn" data-panel="add">Add Expense</button>
        <button class="nav-btn" data-panel="reports">Reports</button>
        <button class="nav-btn" data-panel="settings">Settings</button>
      </nav>

      <div class="mt-8">
        <button id="logout-btn" class="btn-ghost w-full text-purple-600">Log out</button>
      </div>


    </aside>

    <!-- Main -->
    <main class="col-span-12 md:col-span-9 lg:col-span-10 p-6 md:p-8 space-y-6">
      <!-- Topbar -->
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-2xl md:text-3xl font-bold text-purple-700">Dashboard</h2>
          <p class="text-purple-600 text-sm" id="greet"></p>
        </div>
        <div class="flex items-center gap-3">
          <input id="search" class="input !bg-slate-900/60 w-40 md:w-64 text-purple-600" placeholder="Search expenses..." />
          <div class="h-10 w-10 rounded-full bg-slate-800 grid place-items-center border border-white/10">
            <span class="text-sm text-purple-700" id="avatar">U</span>
          </div>
        </div>
      </div>

      <!-- KPI cards -->
      <section id="panel-dashboard" class="panel grid gap-6 md:grid-cols-3">
        <div class="kpi">
          <div class="text-purple-600 text-sm">Your balance</div>
          <div class="text-2xl font-extrabold mt-2 text-purple-700">₹ <span id="kpi-balance">0</span></div>
        </div>
        <div class="kpi">
          <div class="text-purple-600 text-sm">This month spend</div>
          <div class="text-2xl font-extrabold mt-2 text-purple-700">₹ <span id="kpi-month">0</span></div>
        </div>
        <div class="kpi">
          <div class="text-purple-600 text-sm">Monthly budget</div>
          <div class="text-2xl font-extrabold mt-2 text-purple-700">₹ <span id="kpi-budget">20000</span></div>
        </div>

        <!-- Charts & Calendar -->
        <div class="rounded-2xl bg-slate-900/60 border border-white/10 p-4 md:p-6 md:col-span-2 neon-card">
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-semibold text-purple-700">Last 6 months spending</h3>
            <div class="flex gap-2">
              <button class="chip text-purple-600" data-range="6">6M</button>
              <button class="chip active text-purple-600" data-range="12">12M</button>
            </div>
          </div>
          <canvas id="lineChart" height="120"></canvas>
        </div>

        <div class="space-y-4">
          <div class="rounded-2xl bg-slate-900/60 border border-white/10 p-4 neon-card">
            <h3 class="font-semibold mb-2 text-purple-700">Category split</h3>
            <canvas id="pieChart" height="180"></canvas>
          </div>

          <div class="rounded-2xl bg-slate-900/60 border border-white/10 p-4 neon-card">
            <h3 class="font-semibold mb-2 text-purple-700">Calendar</h3>
            <div id="calendar" class="calendar text-purple-600"></div>
          </div>

          <div class="rounded-2xl bg-slate-900/60 border border-white/10 p-4 neon-card">
            <h3 class="font-semibold mb-2 text-purple-700">Upcoming (7 days)</h3>
            <ul id="reminders" class="space-y-2 text-sm text-purple-600"></ul>
          </div>
        </div>

        <!-- Table -->
        <div class="rounded-2xl bg-slate-900/60 border border-white/10 p-4 md:p-6 md:col-span-3 neon-card">
          <div class="flex items-center justify-between mb-4">
            <h3 class="font-semibold text-purple-700">Recent Transactions</h3>
            <div class="text-xs text-purple-600">Click ✖ to delete</div>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full text-sm text-purple-600">
              <thead class="text-purple-700">
                <tr>
                  <th class="th">Date</th>
                  <th class="th">Category</th>
                  <th class="th">Description</th>
                  <th class="th text-right">Amount (₹)</th>
                  <th class="th"></th>
                </tr>
              </thead>
              <tbody id="table-body"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- ADD PANEL -->
      <section id="panel-add" class="panel hidden">
        <div class="rounded-2xl bg-slate-900/60 border border-white/10 p-6 neon-card max-w-2xl">
          <h3 class="font-semibold text-xl mb-4 text-purple-700">Add Expense</h3>
          <form id="add-form" class="grid md:grid-cols-2 gap-4 text-purple-600">
            <div>
              <label class="label text-purple-600">Amount (₹)</label>
              <input id="ex-amount" type="number" min="1" class="input text-purple-600" required />
            </div>
            <div>
              <label class="label text-purple-600">Category</label>
              <select id="ex-category" class="input text-purple-600">
                <option>Food</option>
                <option>Travel</option>
                <option>Shopping</option>
                <option>Bills</option>
                <option>Health</option>
                <option>Education</option>
                <option>Other</option>
              </select>
            </div>
            <div class="md:col-span-2">
              <label class="label text-purple-600">Description</label>
              <input id="ex-desc" class="input text-purple-600" placeholder="e.g., Zomato order" />
            </div>
            <div>
              <label class="label text-purple-600">Date</label>
              <input id="ex-date" type="date" class="input text-purple-600" required />
            </div>
            <div class="flex items-center gap-2">
              <input id="ex-remind" type="checkbox" class="h-4 w-4"/>
              <label for="ex-remind" class="text-sm text-purple-600">Add to upcoming reminders</label>
            </div>
            <button class="btn-primary md:col-span-2 text-purple-600">Save Expense</button>
          </form>
        </div>
      </section>

      <!-- REPORTS PANEL -->
      <section id="panel-reports" class="panel hidden">
        <div class="rounded-2xl bg-slate-900/60 border border-white/10 p-6 neon-card">
          <h3 class="font-semibold text-xl mb-4 text-purple-700">Quick Reports</h3>
          <ul class="list-disc list-inside text-purple-600 space-y-2">
            <li>Top spending category this month: <span id="rep-topcat" class="font-semibold text-purple-700"></span></li>
            <li>Average daily spend (30d): ₹ <span id="rep-avg" class="font-semibold text-purple-700"></span></li>
            <li>Total transactions: <span id="rep-count" class="font-semibold text-purple-700"></span></li>
          </ul>
        </div>
      </section>

      <!-- SETTINGS PANEL -->
      <section id="panel-settings" class="panel hidden max-w-xl">
        <div class="rounded-2xl bg-slate-900/60 border border-white/10 p-6 neon-card space-y-4">
          <h3 class="font-semibold text-xl text-purple-700">Settings</h3>
          <div>
            <label class="label text-purple-600">Monthly Budget (₹)</label>
            <input id="set-budget" type="number" class="input text-purple-600" placeholder="e.g., 20000" />
            <button id="save-budget" class="btn-primary mt-3 text-purple-600">Save Budget</button>
          </div>
          <div>
            <label class="label text-purple-600">Export Data</label>
            <button id="export-json" class="btn-ghost text-purple-600">Download JSON</button>
          </div>
          <div class="text-xs text-purple-600">
            Passwords are hashed and stored locally for demo purposes only.
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
  <script src="dashboard.js"></script>
</body>
</html>

